\hypertarget{Sparse__test_8cpp}{}\section{Examples/\+Sparse\+\_\+test.cpp File Reference}
\label{Sparse__test_8cpp}\index{Examples/\+Sparse\+\_\+test.\+cpp@{Examples/\+Sparse\+\_\+test.\+cpp}}


T\+O\+DO description / rename file.  


{\ttfamily \#include \char`\"{}Luna/\+Core\char`\"{}}\newline
{\ttfamily \#include \char`\"{}Luna/\+Sparse\char`\"{}}\newline
Include dependency graph for Sparse\+\_\+test.\+cpp\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=232pt]{Sparse__test_8cpp__incl}
\end{center}
\end{figure}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{Sparse__test_8cpp_ae66f6b31b5ad750f1fe042a706a4e3d4}{main} ()
\end{DoxyCompactItemize}


\subsection{Detailed Description}
T\+O\+DO description / rename file. 



\subsection{Function Documentation}
\mbox{\Hypertarget{Sparse__test_8cpp_ae66f6b31b5ad750f1fe042a706a4e3d4}\label{Sparse__test_8cpp_ae66f6b31b5ad750f1fe042a706a4e3d4}} 
\index{Sparse\+\_\+test.\+cpp@{Sparse\+\_\+test.\+cpp}!main@{main}}
\index{main@{main}!Sparse\+\_\+test.\+cpp@{Sparse\+\_\+test.\+cpp}}
\subsubsection{\texorpdfstring{main()}{main()}}
{\footnotesize\ttfamily int main (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 11 of file Sparse\+\_\+test.\+cpp.



References Luna\+::\+Sparse\+Matrix$<$ T $>$\+::col\+\_\+start(), Luna\+::\+Vector$<$ T $>$\+::insert(), Luna\+::\+Sparse\+Matrix$<$ T $>$\+::multiply(), Luna\+::\+Sparse\+Matrix$<$ T $>$\+::nonzero(), Luna\+::\+Vector$<$ T $>$\+::random(), Luna\+::\+Sparse\+Matrix$<$ T $>$\+::row\+\_\+index(), Luna\+::\+Sparse\+Matrix$<$ T $>$\+::solve\+\_\+\+Bi\+C\+G(), Luna\+::\+Sparse\+Matrix$<$ T $>$\+::solve\+\_\+\+Bi\+C\+G\+S\+T\+A\+B(), Luna\+::\+Sparse\+Matrix$<$ T $>$\+::val(), Heat\+\_\+plot\+::x, and y.


\begin{DoxyCode}
12 \{
13   cout << \textcolor{stringliteral}{"--------------------- Sparse Matrices --------------------"} << endl;
14 
15   \hyperlink{classLuna_1_1Vector}{Vector<double>} val( \{ 3., 4., 7., 1., 5., 2., 9., 6., 5. \} );
16   \hyperlink{classLuna_1_1Vector}{Vector<std::size\_t>} row\_ind( \{ 0, 1, 2, 0, 2, 0, 2, 4, 4 \} );
17   \hyperlink{classLuna_1_1Vector}{Vector<std::size\_t>} col\_ptr( \{ 0, 1, 3, 5, 8, 9 \} );
18 
19   \hyperlink{classLuna_1_1SparseMatrix}{SparseMatrix<double>} sparse( 5, 5, val, row\_ind, col\_ptr );
20 
21 
22   cout << \textcolor{stringliteral}{" * val       = "} << sparse.val() << endl;
23   cout << \textcolor{stringliteral}{" * row\_index = "} << sparse.row\_index() << endl;
24   cout << \textcolor{stringliteral}{" * col\_start = "} << sparse.col\_start() << endl;
25   cout << \textcolor{stringliteral}{" * nonzeros  = "} << sparse.nonzero() << endl;
26 
27   sparse.insert( 1, 3, 2.0 );
28   sparse.insert( 1, 0, 5.0 );
29 
30   cout << \textcolor{stringliteral}{" * val       = "} << sparse.val() << endl;
31   cout << \textcolor{stringliteral}{" * row\_index = "} << sparse.row\_index() << endl;
32   cout << \textcolor{stringliteral}{" * col\_start = "} << sparse.col\_start() << endl;
33   cout << \textcolor{stringliteral}{" * nonzeros  = "} << sparse.nonzero() << endl;
34 
35   \textcolor{keyword}{typedef} \hyperlink{classLuna_1_1Triplet}{Triplet<double>} Td;
36   \hyperlink{classLuna_1_1Vector}{Vector<Td>} triplets \{ Td( 0, 3, 2.0 ), Td( 2, 3, 9.0 ), Td( 4, 3, 6.0 ),
37                         Td( 4, 4, 5.0 ), Td( 0, 0, 3.0 ), Td( 1, 1, 4.0 ) \};
38 
39   triplets( Td( 2, 1, 7.0 ) );
40   triplets( Td( 0, 2, 1.0 ) );
41   triplets( Td( 2, 2, 5.0 ) );
42   triplets( Td( 3, 2, 1.0 ) );
43 
44   \hyperlink{classLuna_1_1SparseMatrix}{SparseMatrix<double>} sparse\_trip( 5, 5, triplets );
45   cout << \textcolor{stringliteral}{" * val       = "} << sparse\_trip.val() << endl;
46   cout << \textcolor{stringliteral}{" * row\_index = "} << sparse\_trip.row\_index() << endl;
47   cout << \textcolor{stringliteral}{" * col\_start = "} << sparse\_trip.col\_start() << endl;
48   cout << \textcolor{stringliteral}{" * nonzeros  = "} << sparse\_trip.nonzero() << endl;
49 
50   \hyperlink{classLuna_1_1Vector}{Vector<double>} b \{ 1, 2, 3, 4, 5 \};
51   \hyperlink{classLuna_1_1Vector}{Vector<double>} \hyperlink{namespaceHeat__plot_aa88370c16b85b784ccbde3ed88bc1991}{x}( 5, 0.0 );
52 
53   \textcolor{keywordtype}{int} iter( 100 );
54   \textcolor{keywordtype}{double} tol( 1e-8 );
55   \textcolor{keywordtype}{int} code = sparse\_trip.solve\_BiCG( b, \hyperlink{namespaceHeat__plot_aa88370c16b85b784ccbde3ed88bc1991}{x}, iter, tol );
56 
57   cout << \textcolor{stringliteral}{" * x = "} << \hyperlink{namespaceHeat__plot_aa88370c16b85b784ccbde3ed88bc1991}{x} << endl;
58   cout << \textcolor{stringliteral}{" * iter = "} << iter << endl;
59   cout << \textcolor{stringliteral}{" * err = "} << scientific << tol << endl;
60 
61   \textcolor{comment}{//TODO need to test a complex sparse matrix}
62 
63   \textcolor{keyword}{typedef} std::complex<double> \hyperlink{namespaceLuna_af3257e90072a78a8ffb16a16773aa18e}{cmplx};
64   \textcolor{keyword}{typedef} \hyperlink{classLuna_1_1Triplet}{Triplet<cmplx>} Tc;
65 
66   \hyperlink{classLuna_1_1Vector}{Vector<Tc>} trips;
67 
68   trips( Tc( 0, 0, \hyperlink{namespaceLuna_af3257e90072a78a8ffb16a16773aa18e}{cmplx}( 1.0, 1.0 ) ) );
69   trips( Tc( 0, 1, \hyperlink{namespaceLuna_af3257e90072a78a8ffb16a16773aa18e}{cmplx}( -1.0, 0.0 ) ) );
70   trips( Tc( 1, 0, \hyperlink{namespaceLuna_af3257e90072a78a8ffb16a16773aa18e}{cmplx}( 1.0, -1.0 ) ) );
71   trips( Tc( 1, 1, \hyperlink{namespaceLuna_af3257e90072a78a8ffb16a16773aa18e}{cmplx}( 1.0, 1.0 ) ) );
72 
73   \hyperlink{classLuna_1_1SparseMatrix}{SparseMatrix<cmplx>} sparse\_cmplx( 2, 2, trips );
74   \hyperlink{classLuna_1_1Vector}{Vector<cmplx>} c\{ 1.0, 1.0 \};
75   \hyperlink{classLuna_1_1Vector}{Vector<cmplx>} \hyperlink{ODE__BVP__test_8cpp_adf764cbdea00d65edcd07bb9953ad2b7ae1f9fdb8b786c63efc4ce44eeacd17f2}{y}( 2, 0.0 );
76   cout << \textcolor{stringliteral}{" * c = "} << c << endl;
77 
78   iter = 100;
79   tol = 1e-8;
80   sparse\_cmplx.solve\_BiCG( c, \hyperlink{ODE__BVP__test_8cpp_adf764cbdea00d65edcd07bb9953ad2b7ae1f9fdb8b786c63efc4ce44eeacd17f2}{y}, iter, tol );
81   iter = 1000;
82   tol = 1e-8;
83   \hyperlink{ODE__BVP__test_8cpp_adf764cbdea00d65edcd07bb9953ad2b7ae1f9fdb8b786c63efc4ce44eeacd17f2}{y}.random();
84   code = sparse\_cmplx.solve\_BiCGSTAB( c, \hyperlink{ODE__BVP__test_8cpp_adf764cbdea00d65edcd07bb9953ad2b7ae1f9fdb8b786c63efc4ce44eeacd17f2}{y}, iter, tol );
85 
86   cout << \textcolor{stringliteral}{" * y = "} << \hyperlink{ODE__BVP__test_8cpp_adf764cbdea00d65edcd07bb9953ad2b7ae1f9fdb8b786c63efc4ce44eeacd17f2}{y} << endl;
87   cout << \textcolor{stringliteral}{" * B * y = "} << sparse\_cmplx.multiply( \hyperlink{ODE__BVP__test_8cpp_adf764cbdea00d65edcd07bb9953ad2b7ae1f9fdb8b786c63efc4ce44eeacd17f2}{y} ) << endl;
88   cout << \textcolor{stringliteral}{" * iter = "} << iter << endl;
89   cout << \textcolor{stringliteral}{" * code = "} << code << endl;
90 
91   iter = 1000;
92   tol = 1e-8;
93   \hyperlink{namespaceHeat__plot_aa88370c16b85b784ccbde3ed88bc1991}{x}.random();
94   code = sparse\_trip.solve\_BiCGSTAB( b, \hyperlink{namespaceHeat__plot_aa88370c16b85b784ccbde3ed88bc1991}{x}, iter, tol );
95   cout << \textcolor{stringliteral}{" * x = "} << \hyperlink{namespaceHeat__plot_aa88370c16b85b784ccbde3ed88bc1991}{x} << endl;
96   cout << \textcolor{stringliteral}{" * iter = "} << iter << endl;
97   cout << \textcolor{stringliteral}{" * code = "} << code << endl;
98 
99   cout << \textcolor{stringliteral}{"--- FINISHED ---"} << endl;
100 \}
\end{DoxyCode}
